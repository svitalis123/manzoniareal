(this.webpackJsonpmazonia=this.webpackJsonpmazonia||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),i=a(18),s=a.n(i),r=(a(90),a(7)),o=(a(91),a(76)),l=(a(92),a(93),a(3)),d=["https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Beauty_v2_en_US_1x._CB429089975_.jpg","https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_45M_v2_1x._CB432458380_.jpg","https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Home_v2_en_US_1x._CB429090084_.jpg","https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Toys_en_US_1x._CB431858161_.jpg","https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_Beauty_v2_en_US_1x._CB429089975_.jpg"],j=function(){return Object(l.jsx)("div",{className:"theimg",children:Object(l.jsxs)(o.Slide,{easing:"ease",children:[Object(l.jsx)("div",{className:"each-slide",children:Object(l.jsx)("div",{className:"img1",style:{backgroundImage:"url(".concat(d[0],")")}})}),Object(l.jsx)("div",{className:"each-slide",children:Object(l.jsx)("div",{className:"img1",style:{backgroundImage:"url(".concat(d[1],")")}})}),Object(l.jsx)("div",{className:"each-slide",children:Object(l.jsx)("div",{className:"img1",style:{backgroundImage:"url(".concat(d[2],")")}})}),Object(l.jsx)("div",{className:"each-slide",children:Object(l.jsx)("div",{className:"img1",style:{backgroundImage:"url(".concat(d[3],")")}})}),Object(l.jsx)("div",{className:"each-slide",children:Object(l.jsx)("div",{className:"img1",style:{backgroundImage:"url(".concat(d[4],")")}})})]})})},u=a(170),m=Object(c.createContext)(),b=function(e){var t=e.reducer,a=e.initialState,n=e.children;return Object(l.jsx)(m.Provider,{value:Object(c.useReducer)(t,a),children:n})},h=function(){return Object(c.useContext)(m)};a(95);var p=function(e){var t=e.title,a=e.description,c=e.imgurl,n=e.price,i=e.id,s=e.rating,o=h(),d=Object(r.a)(o,2),j=(d[0].basket,d[1]);return Object(l.jsx)("div",{className:"item",children:Object(l.jsxs)("div",{className:"item__container",children:[Object(l.jsxs)("div",{className:"item__header",children:[Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("h2",{children:t})}),Object(l.jsx)("div",{className:"description",children:Object(l.jsx)("p",{children:a})}),Object(l.jsx)("div",{className:"price",children:Object(l.jsx)("h5",{children:"$11.99"})})]}),Object(l.jsx)("div",{className:"myimage",children:Object(l.jsx)("img",{src:c,alt:"img"})}),Object(l.jsx)("div",{className:"rating",children:Array(s).fill().map((function(e,t){return Object(l.jsx)("p",{children:"\u2b50"})}))}),Object(l.jsx)(u.a,{type:"submit",className:"button",onClick:function(e){e.preventDefault(),j({type:"Add_To_Basket",item:{id:i,title:t,description:a,imgurl:c,price:n,rating:s}})},variant:"outlined",color:"primary",children:" Add to basket "})]})})};a(100);var O=function(){return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("div",{className:"mymg",children:Object(l.jsx)(j,{})}),Object(l.jsxs)("div",{className:"home__row",children:[Object(l.jsx)(p,{id:3445,title:"Belkin SoundForm Kids Wireless Headphones",description:"Belkin SoundForm Kids Wireless Headphones with Built in",imgurl:"https://m.media-amazon.com/images/I/51QL9pV-1qL._AC_UY218_.jpg",price:19.99,rating:5}),Object(l.jsx)(p,{id:3348,title:"Hi-Fi Smart Speaker",description:"Belkin SoundForm Elite Hi-Fi Smart Speaker + Wireless Charger",imgurl:"https://m.media-amazon.com/images/I/81XjQOJdLwL._AC_UY218_.jpg",price:143.99,rating:4})]}),Object(l.jsxs)("div",{className:"home__row",children:[Object(l.jsx)(p,{id:3647,title:"Stripe T-Shirt",description:"YunJey Round Neck Triple Color Block Stripe T-Shirt",imgurl:"https://images-na.ssl-images-amazon.com/images/I/51Icrvma7ZL._SCLZZZZZZZ___AA300_.jpg",price:12.79,rating:5}),Object(l.jsx)(p,{id:3244,title:"Wireless Earbuds",description:" Occiam Bluetooth Headphones 48H Play Back Earphones ",imgurl:"https://m.media-amazon.com/images/I/61cLu+0jalL._AC_UY218_.jpg",price:34.99,rating:4}),Object(l.jsx)(p,{id:3841,title:"Wireless Headphones",description:"Belkin SoundForm Kids Wireless Headphones with Built",imgurl:"https://m.media-amazon.com/images/I/81D3aL3-CBL._AC_UY218_.jpg",price:19.99,rating:5})]}),Object(l.jsx)("div",{className:"home__row",children:Object(l.jsx)(p,{id:3549,title:"trail camera day",description:"night ultra fast motion",imgurl:"https://m.media-amazon.com/images/I/91ZNcn2WDhL._AC_UL320_.jpg",price:79.99,rating:4})})]})},x=a(36),g=a(13),v=a(171),f=a(167),_=(a(101),a(78)),y=a.n(_),k=a(169),N=a(166),S=a(79),C=a.n(S),w=a(165),z=a(168),B=a(51),A=B.a.initializeApp({apiKey:"AIzaSyCvh0aeTX2L5kAJqvnFpgmIvhG3i7IzfU0",authDomain:"mazonia-3addc.firebaseapp.com",projectId:"mazonia-3addc",storageBucket:"mazonia-3addc.appspot.com",messagingSenderId:"814697331566",appId:"1:814697331566:web:66e0703949aa86d20ddf7f"}).firestore(),F=B.a.auth(),I=(B.a.storage(),new B.a.auth.GoogleAuthProvider),T=A,E=Object(w.a)((function(e){return{typography:{padding:e.spacing(2)},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var H=function(){var e=Object(g.f)(),t=E(),a=n.a.useState(null),c=Object(r.a)(a,2),i=c[0],s=c[1],o=Boolean(i),d=h(),j=Object(r.a)(d,1)[0],u=j.basket,m=j.user;return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("img",{onClick:function(){e.push("/")},src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amzonologo"}),Object(l.jsxs)("div",{className:"header__input",children:[Object(l.jsx)(v.a,{className:"myinput",type:"text",color:"primary",placeholder:"search"}),Object(l.jsx)("span",{children:Object(l.jsx)(y.a,{})})]}),Object(l.jsxs)("div",{className:"header__navigation",children:[Object(l.jsxs)("div",{onClick:function(){m&&F.signOut()},onMouseOver:function(e){return s(e.currentTarget)},className:"optio",children:[Object(l.jsxs)("p",{children:[" hello, ",m?null===m||void 0===m?void 0:m.email:"user"," "]}),Object(l.jsx)("h3",{children:m?"Sign-Out":"Sign-In"})]}),m?"":Object(l.jsx)(k.a,{open:o,anchorEl:i,onClose:function(){return s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(l.jsxs)(N.a,{className:t.typography,children:[Object(l.jsxs)(f.a,{children:["Sign in to enjoy more features",Object(l.jsx)("a",{href:"#",onClick:function(){F.signInWithPopup(I).then((function(e){console.log(e)})).catch((function(e){return alert(e.message)})),s(null)},children:"Sign in with google"}),Object(l.jsx)("a",{href:"#",onClick:function(){e.push("/login"),s(null)},children:Object(l.jsx)("h3",{children:"Sign in by username and password"})}),"no account!\ud83d\ude31\ud83d\ude31 ",Object(l.jsx)("a",{href:"#",children:Object(l.jsx)("h5",{style:{color:z.a},children:"create one"})}),"click elsewhere to exit"]})," "]})})]}),Object(l.jsxs)("div",{onClick:function(){e.push("/orders")},className:"option",children:[Object(l.jsx)("p",{children:"returns"}),Object(l.jsx)("h3",{children:"& orders"})]}),Object(l.jsxs)("div",{onClick:function(){e.push("/basket")},className:"header__basket",children:[Object(l.jsx)(C.a,{}),Object(l.jsx)("span",{children:null===u||void 0===u?void 0:u.length})]})]})},P=(a(109),a(110),a(40)),L=a.n(P),D=a(28),U=a(30),G=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},M=function(e,t){switch(t.type){case"Add_To_Basket":return Object(U.a)(Object(U.a)({},e),{},{basket:[].concat(Object(D.a)(e.basket),[t.item])});case"Set_User":return Object(U.a)(Object(U.a)({},e),{},{user:t.user});case"Delete_basket":return Object(U.a)(Object(U.a)({},e),{},{basket:[]});case"Remove_From_Basket":var a=e.basket.findIndex((function(e){return e.id===t.id})),c=Object(D.a)(e.basket);return a>=0?c.splice(a,1):console.warn("the basket ".concat(t.id," you want to delete is deleted and no more action can happen ")),Object(U.a)(Object(U.a)({},e),{},{basket:c});default:return e}};var W=function(){var e=h(),t=Object(r.a)(e,1)[0].basket,a=Object(g.f)();return Object(l.jsxs)("div",{className:"basketprice",children:[Object(l.jsx)(L.a,{renderText:function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("h3",{className:"checkoutbutton",children:["Total items(",null===t||void 0===t?void 0:t.length,") ",Object(l.jsx)("br",{}),"Price: ",e]})})},value:G(t),prefix:"$",displayType:"text",thousandSeparator:!0,decimalScale:2}),Object(l.jsx)(u.a,{type:"submit",onClick:function(e){e.preventDefault(),a.push("/payment")},variant:"outlined",color:"primary",children:"CheckOut"})]})};a(112);var Y=function(e){var t,a=e.id,c=e.title,n=e.description,i=e.imgurl,s=e.rating,o=e.price,d=e.hideButton,j=h(),m=Object(r.a)(j,2),b=(m[0].basket,m[1]);return Object(l.jsxs)("div",{className:"basketproduct",children:[Object(l.jsx)("img",{src:i,alt:"productimg"}),Object(l.jsxs)("div",{className:"basketproductcontain",children:[Object(l.jsxs)("div",{className:"basketproduct__top",children:[Object(l.jsx)("h2",{children:c}),Object(l.jsx)("div",{className:"description",children:Object(l.jsx)("h5",{children:n})}),Object(l.jsxs)("h3",{children:["$",o]})]}),Object(l.jsx)("div",{className:"therating",children:null===(t=Array(s).fill())||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)("p",{children:"\u2b50"})}))}),!d&&Object(l.jsx)(u.a,{className:"removebutton",type:"submit",onClick:function(e){e.preventDefault(),b({type:"Remove_From_Basket",id:a})},color:"secondary",variant:"outlined",children:"Remove from Basket"})]})]})};var Z=function(){var e=h(),t=Object(r.a)(e,1)[0].basket;return Object(l.jsxs)("div",{className:"basket",children:[Object(l.jsxs)("div",{className:"basket__left",children:[Object(l.jsx)("img",{src:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2021/January/Fuji_LPHero_TopCat_en_US.png",alt:"ad"}),null===t||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(Y,{id:e.id,title:e.title,description:e.description,imgurl:e.imgurl,rating:e.rating,price:e.price})}))]}),Object(l.jsx)("div",{className:"basket__right",children:Object(l.jsx)(W,{})})]})},J=a(50),K=a.n(J),R=a(62),X=(a(114),a(35)),$=a(80),q=a.n($).a.create({baseURL:"http://localhost:5001/mazonia-3addc/us-central1/api"});var Q=function(){var e=h(),t=Object(r.a)(e,2),a=t[0],n=a.basket,i=a.user,s=t[1],o=Object(X.useStripe)(),d=Object(X.useElements)(),j=Object(c.useState)(!0),u=Object(r.a)(j,2),m=u[0],b=u[1],p=Object(c.useState)(!1),O=Object(r.a)(p,2),x=O[0],v=O[1],f=Object(c.useState)(null),_=Object(r.a)(f,2),y=_[0],k=_[1],N=Object(c.useState)(""),S=Object(r.a)(N,2),C=S[0],w=S[1],z=Object(c.useState)(!0),B=Object(r.a)(z,2),A=B[0],F=B[1],I=Object(g.f)();Object(c.useEffect)((function(){(function(){var e=Object(R.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({method:"post",url:"/payments/create?total=".concat(100*G(n))});case 2:t=e.sent,F(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var E=function(){var e=Object(R.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.next=4,o.confirmCardPayment(A,{payment_method:{card:d.getElement(X.CardElement)}}).then((function(e){var t=e.paymentIntent;T.collection("users").doc(null===i||void 0===i?void 0:i.email).collection("orders").doc(null===t||void 0===t?void 0:t.id).set({basket:n,amount:null===t||void 0===t?void 0:t.amount,created:null===t||void 0===t?void 0:t.created}),v(!0),k(null),w(!1),s({type:"Delete_basket"}),I.push("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"payment",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"rowleft",children:Object(l.jsx)("h3",{children:"Details"})}),Object(l.jsxs)("div",{className:"rowright",children:[Object(l.jsxs)("h5",{children:["Email: ",Object(l.jsx)("span",{children:"user@gmail.com"})]}),Object(l.jsxs)("h5",{children:["Address: ",Object(l.jsx)("span",{children:"P.O Box 60200 Nairobi"})]}),Object(l.jsxs)("h5",{children:["Phone: ",Object(l.jsx)("span",{children:"0700002003"})]})]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"rowleft",children:Object(l.jsx)("h3",{children:"Orders"})}),Object(l.jsx)("div",{className:"rowright",children:n.map((function(e){return Object(l.jsx)(Y,{id:e.id,title:e.title,description:e.description,imgurl:e.imgurl,rating:e.rating,price:e.price})}))})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"rowleft",children:Object(l.jsx)("h3",{children:"Payment"})}),Object(l.jsx)("div",{className:"rowright",children:Object(l.jsxs)("form",{onSubmit:E,children:[Object(l.jsx)(X.CardElement,{onChange:function(e){b(e.empty),k(e.error?e.error.message:"")}}),Object(l.jsx)(L.a,{renderText:function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("h5",{children:["Items(",null===n||void 0===n?void 0:n.length,") ",Object(l.jsx)("br",{})," Total: ",e]})})},value:G(n),decimalScale:2,thousandSeparator:!0,displayType:"text",prefix:"$"}),Object(l.jsx)("div",{children:x?Object(l.jsx)("h3",{children:"Payment Succesful"}):""}),Object(l.jsx)("button",{className:"buttona",color:"primary",variant:"outlined",disabled:m||C||x,children:C?Object(l.jsx)("p",{children:"processing"}):"Paynow"}),y&&Object(l.jsx)("div",{children:y})]})})]})]})},V=a(81);a(132);var ee=function(){var e=Object(g.f)(),t=Object(c.useState)(""),a=Object(r.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)(""),o=Object(r.a)(s,2),d=o[0],j=o[1];return Object(l.jsx)("div",{className:"login",children:Object(l.jsxs)(f.a,{variant:"outlined",color:"primary",children:[Object(l.jsx)("img",{className:"imgs",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazonlogo"}),Object(l.jsxs)("span",{className:"input1",children:["Email: ",Object(l.jsx)(v.a,{value:n,onChange:function(e){return i(e.target.value)},type:"email",color:"primary",variant:"outlined"})]}),Object(l.jsxs)("span",{className:"input2",children:["Password: ",Object(l.jsx)(v.a,{value:d,type:"password",onChange:function(e){return j(e.target.value)},color:"primary",variant:"outlined"})]}),Object(l.jsx)(u.a,{variant:"outlined",color:"primary",type:"submit",onClick:function(t){t.preventDefault(),F.signInWithEmailAndPassword(n,d).then(e.push("/")).catch((function(e){return alert(e.message)}))},children:"Sign-IN"}),Object(l.jsx)("span",{className:"content",children:Object(l.jsxs)("p",{children:["By continuing, you agree to Amazon's",Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:"#",children:"Conditions of Use"})," and ",Object(l.jsx)("a",{href:"#",children:"Privacy Notice"})]})}),Object(l.jsx)(u.a,{variant:"outlined",color:"primary",type:"submit",onClick:function(t){t.preventDefault(),F.createUserWithEmailAndPassword(n,d).then((function(t){t&&e.push("/")})).catch((function(e){return e.message}))},children:"Sign-UP"})]})})},te=(a(133),a(82)),ae=a.n(te);var ce=function(e){var t=e.order;return Object(l.jsxs)("div",{className:"order",children:[Object(l.jsx)("h5",{children:"Order"}),Object(l.jsxs)("span",{children:["Time: ",ae.a.unix(t.data.created).format("MMMM Do YYYY, h:mm:ss a")]}),Object(l.jsx)("p",{className:"order__id",children:Object(l.jsxs)("small",{children:["Orderid: ",t.id]})}),t.data.basket.map((function(e){return Object(l.jsx)(Y,{id:e.id,title:e.title,description:e.description,imgurl:e.imgurl,rating:e.rating,price:e.price,hideButton:!0})})),Object(l.jsx)("div",{className:"ordertotal",children:Object(l.jsx)(L.a,{renderText:function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("h3",{children:["Order Total: ",e]})})},value:t.data.amount/100,decimalScale:2,prefix:"$",thousandSeparator:!0,displayType:"text"})})]})};a(135);var ne=function(){var e=h(),t=Object(r.a)(e,2),a=t[0],n=(a.basket,a.user),i=(t[1],Object(c.useState)([])),s=Object(r.a)(i,2),o=s[0],d=s[1];return Object(c.useEffect)((function(){n?T.collection("users").doc(null===n||void 0===n?void 0:n.email).collection("orders").orderBy("created","desc").onSnapshot((function(e){d(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):d([])}),[n]),Object(l.jsxs)("div",{className:"orders",children:[Object(l.jsx)("h2",{children:"Your Orders"}),Object(l.jsx)("div",{children:o.map((function(e){return Object(l.jsx)(ce,{order:e})}))})]})},ie=Object(V.a)("pk_test_51IEDQeKJGFB7O5nzOiGAlqfL4w5zHyC3DpWIurCxSHys471n0aGyfm2DHVdaOMXw5dKkjxebx0wfinXxLGYgXSKr004MeqsiDE");var se=function(){var e=h(),t=Object(r.a)(e,2),a=t[0],n=(a.basket,a.user),i=t[1];return Object(c.useEffect)((function(){F.onAuthStateChanged((function(e){i(e?{type:"Set_User",user:e}:{type:"Set_User",user:null})}))}),[]),console.log("this is the",n),Object(l.jsx)(x.a,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(g.c,{children:[Object(l.jsxs)(g.a,{path:"/orders",children:[Object(l.jsx)(H,{}),Object(l.jsx)(ne,{})]}),Object(l.jsxs)(g.a,{path:"/payment",children:[Object(l.jsx)(H,{}),Object(l.jsx)(X.Elements,{stripe:ie,children:Object(l.jsx)(Q,{})})]}),Object(l.jsxs)(g.a,{path:"/login",children:[Object(l.jsx)(H,{}),Object(l.jsx)(ee,{})]}),Object(l.jsxs)(g.a,{path:"/basket",children:[Object(l.jsx)(H,{}),Object(l.jsx)(Z,{})]}),Object(l.jsxs)(g.a,{path:"/",children:[Object(l.jsx)(H,{}),Object(l.jsx)(O,{})]})]})})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(b,{reducer:M,initialState:{basket:[],user:null},children:Object(l.jsx)(se,{})})}),document.getElementById("root")),re()},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},95:function(e,t,a){}},[[136,1,2]]]);
//# sourceMappingURL=main.5c2ace0e.chunk.js.map